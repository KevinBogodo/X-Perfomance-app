(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0d0f07"],{"69b0":function(t,e,a){"use strict";a.r(e);var o=function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"row"},[e("div",{staticClass:"col-xl-3 col-lg-3 col-md-3 col-sm-3 col-xs-3 margin-bottom"},[e("label",{staticClass:"mb-2"},[t._v(" Format d'affichage: ")]),e("div",[e("el-radio",{attrs:{label:"jour"},model:{value:t.radio,callback:function(e){t.radio=e},expression:"radio"}},[t._v("Jours")]),e("el-radio",{attrs:{label:"mois"},model:{value:t.radio,callback:function(e){t.radio=e},expression:"radio"}},[t._v("Mois")])],1)]),"jour"==t.radio?e("div",{staticClass:"col-xl-4 col-lg-4 col-md-5 col-sm-6 col-xs-6 mb-1"},[e("label",[t._v("Choisir la période : ")]),e("div",{staticClass:"data-picker",staticStyle:{width:"100%"}},[e("el-date-picker",{attrs:{type:"daterange","unlink-panels":"","range-separator":"-",format:"dd/MM/yyyy",clearable:t.clearable,"picker-options":t.pickerOptions_j},on:{change:function(e){return t.loadData()}},model:{value:t.drp_jour,callback:function(e){t.drp_jour=e},expression:"drp_jour"}})],1)]):t._e(),"mois"==t.radio?e("div",{staticClass:"col-xl-4 col-lg-4 col-md-5 col-sm-6 col-xs-6 mb-1"},[e("label",[t._v("Choisir la période : ")]),e("div",{staticClass:"data-picker",staticStyle:{width:"100%"}},[e("el-date-picker",{attrs:{format:"dd/MM/yyyy",type:"monthrange",align:"right","unlink-panels":"","range-separator":"à","start-placeholder":"Mois de début","end-placeholder":"Mois de fin","picker-options":t.pickerOptions_m},on:{change:function(e){return t.loadData()}},model:{value:t.drp_month,callback:function(e){t.drp_month=e},expression:"drp_month"}})],1)]):t._e(),e("div",{staticClass:"col-xl-3 col-lg-3 col-md-3 col-sm-3 col-xs-3 margin-bottom"},[e("label",{staticClass:"mb-2"},[t._v(t._s(t.titleChoice)+" : ")]),e("div",{staticClass:"data-picker",staticStyle:{width:"100%"}},[e("ui-select",{attrs:{placeholder:t.titleChoice,options:t.usersOption},on:{change:function(e){return t.loadData()}},model:{value:t.userSelect,callback:function(e){t.userSelect=e},expression:"userSelect"}})],1)])]),1==t.empty?e("div",{staticClass:"row"},[e("el-divider"),e("el-empty",{attrs:{description:"Pas de données pour la période"}})],1):e("div",{staticClass:"row m-5 p-2"},[t._m(0),e("Barchart",{attrs:{data1:t.data1,data2:t.data2}}),e("el-divider"),t._m(1),t._m(2),e("TablesDates",{attrs:{datatable:t.datatable}})],1)])},i=[function(){var t=this,e=t._self._c;return e("h3",[e("i",[t._v(" Graphique en minutes du retard ")])])},function(){var t=this,e=t._self._c;return e("h4",[e("i",[t._v(" Tableau global ")])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"row m-4",staticStyle:{display:"flex","align-content":"center","align-items":"center","max-width":"600px"}},[e("table",[e("tr",[e("th",{staticStyle:{border:"none","text-align":"center"}},[t._v("moins de 5 min")]),e("th",{staticStyle:{width:"30px",height:"30px","border-radius":"50%",border:"none","background-color":"#6aa84f"}}),e("th",{staticStyle:{border:"none","text-align":"center"}},[t._v("| Entre 5 et 15 min")]),e("th",{staticStyle:{width:"30px",height:"30px","border-radius":"50%",border:"none","background-color":"#f6b26b"}}),e("th",{staticStyle:{border:"none","text-align":"center"}},[t._v("| Plus de 15 min")]),e("th",{staticStyle:{width:"30px",height:"30px","border-radius":"50%",border:"none","background-color":"#e06666"}})])])])}],r=a("c7eb"),s=a("1da1"),n=(a("d3b7"),a("159b"),a("14d9"),a("caad"),a("2532"),a("997f")),l=a("cee4"),c=a("c1df"),d=a.n(c),u=a("323e"),p=a.n(u),h=function(){var t=this,e=t._self._c;return e("div",{staticClass:"row mr-5 p-2"},[e("apexchart",{attrs:{height:"350px",type:"bar",options:t.options,series:t.series}})],1)},m=[],f=a("5530"),b=a("1321"),D=a.n(b),x={components:{apexchart:D.a},props:["data1","data2"],data:function(){return{options:{plotOptions:{bar:{horizontal:!1,borderRadius:5}},chart:{height:400,toolbar:{show:!0,tools:{download:!0,selection:!1,zoom:!1,zoomin:!1,zoomout:!1,pan:!1,reset:!1},export:{csv:{filename:"Analyse_Taux_de_retard_"+(new Date).toDateString(),columnDelimiter:",",headerCategory:"category",headerValue:"value",dateFormatter:function(t){return new Date(t).toDateString()}},svg:{filename:"Analyse_Taux_de_retard_"+(new Date).toDateString()},png:{filename:"Analyse_Taux_de_retard_"+(new Date).toDateString()}}}},xaxis:{categories:[]},yaxis:[{seriesName:"Durée",axisTicks:{show:!0},axisBorder:{show:!0,color:"#9E9E9E"},title:{text:"Durée en minutes",style:{color:"#9E9E9E"}},tooltip:{enabled:!0}}],tooltip:{fixed:{enabled:!0,offsetY:30,offsetX:60}},legend:{horizontalAlign:"center",offsetX:40},noData:{text:"Veuillez vérifier les données",align:"center",verticalAlign:"middle"},markers:{size:5,colors:"#9E9E9E",strokeColors:"#feb830",fillOpacity:.6},bar:{dataLabels:{}},dataLabels:{enabled:!0,style:{colors:["#333"]}}},series:[{name:"Durée",type:"column",data:[]}]}},watch:{data1:function(){this.options=Object(f["a"])(Object(f["a"])({},this.options),{xaxis:{categories:this.data1}}),this.series[0].data=this.data2}},mounted:function(){this.series[0].data=this.data2,this.options=Object(f["a"])(Object(f["a"])({},this.options),{xaxis:{categories:this.data1}})}},k=x,_=a("2877"),y=Object(_["a"])(k,h,m,!1,null,null,null),v=y.exports,g=a("0d5b"),w={components:{Menu:n["default"],Barchart:v,TablesDates:g["a"]},props:["usersOption","userSelect"],data:function(){return{type:"utilisateur",titleChoice:"Choisir un utilisateur",data1:[],data2:[],datatable:[],radio:"jour",periode:"Choisir la periode",start:d()().subtract(12,"month").startOf("month").toDate(),end:d()().toDate(),clearable:!1,empty:1,drp:[],drp_jour:[d()().subtract(1,"isoweek").startOf("isoweek").toDate(),d()().toDate()],drp_month:[d()().subtract(4,"month").endOf("month").toDate(),d()().endOf("month").toDate()],pickerOptions_j:{shortcuts:[{text:"Mois precedent",onClick:function(t){t.$emit("pick",[d()().subtract(1,"month").startOf("month").toDate(),d()().subtract(1,"month").endOf("month").toDate()])}},{text:"Mois en cours",onClick:function(t){t.$emit("pick",[d()().startOf("month").toDate(),new Date])}},{text:"Semaine precedente",onClick:function(t){t.$emit("pick",[d()().subtract(1,"week").startOf("isoWeek").toDate(),d()().subtract(1,"week").endOf("isoWeek").toDate()])}},{text:"Semaine en cours",onClick:function(t){t.$emit("pick",[d()().startOf("isoWeek").toDate(),new Date])}},{text:"Avant hier",onClick:function(t){t.$emit("pick",[d()().subtract(2,"day").toDate(),d()().subtract(2,"day").toDate()])}},{text:"Hier",onClick:function(t){t.$emit("pick",[d()().subtract(1,"day").toDate(),d()().subtract(1,"day").toDate()])}},{text:"Aujoudhuit",onClick:function(t){t.$emit("pick",[d()().toDate(),new Date])}}],format:"dd MM yyyy",firstDayOfWeek:1,disabledDate:this.disabledDueDate},pickerOptions_m:{shortcuts:[{text:"Ce mois",onClick:function(t){t.$emit("pick",[d()().startOf("month").toDate(),d()().endOf("month").toDate()])}},{text:"Cette année",onClick:function(t){t.$emit("pick",[d()().startOf("year").toDate(),d()().endOf("month").toDate()])}},{text:"Les derniers 6 mois",onClick:function(t){t.$emit("pick",[d()().subtract(5,"month").startOf("month").toDate(),d()().toDate()])}}],format:"dd MM yyyy",firstDayOfWeek:1,disabledDate:this.disabledDueDate}}},watch:{radio:function(){this.loadData()},userSelect:function(){this.loadData()}},methods:{loadData:function(){var t=this;return Object(s["a"])(Object(r["a"])().mark((function e(){var a,o,i;return Object(r["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return p.a.start(),"jour"==t.radio?t.drp=t.drp_jour:"mois"==t.radio&&(t.drp=t.drp_month),a={id:t.userSelect.value,start:d()(new Date(t.drp[0])).startOf("day").format("YYYY-MM-DD HH:mm:ss.SSS"),end:d()(new Date(t.drp[1])).endOf("day").format("YYYY-MM-DD HH:mm:ss.SSS")},e.next=5,l["a"].post("xperf/report/userlog",a);case 5:o=e.sent,i=o.data.data_user,i.length>0?(t.empty=0,t.BuildApexChart(i),t.BuildTable(i)):t.empty=1,p.a.done();case 9:case"end":return e.stop()}}),e)})))()},BuildApexChart:function(t){var e=this;if(this.data1=[],this.data2=[],"jour"==this.radio)t.forEach((function(t){var a=d()(new Date(t.jour)).format("DD/MM/YYYY");e.data1.push(a),e.data2.push(t.minute)}));else if("mois"==this.radio){this.data1=[],this.data2=[];t.forEach((function(t){e.data1.includes(t.mois_texte)||e.data1.push(t.mois_texte)})),this.data1.forEach((function(a){var o=0;t.forEach((function(t){t.mois_texte==a&&(o+=t.minute)})),e.data2.push(o)}))}},BuildTable:function(t){t.forEach((function(t){t.jour=d()(new Date(t.jour)).format("DD/MM/YYYY"),t.date=d()(new Date(t.date)).format("HH:mm:ss")})),this.datatable=t}},created:function(){}},C=w,O=Object(_["a"])(C,o,i,!1,null,null,null);e["default"]=O.exports}}]);
//# sourceMappingURL=chunk-2d0d0f07.5872f877.js.map