(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7b017d06"],{"71a3":function(t,e,a){"use strict";var n=a("5530"),s=(a("ac1f"),a("5319"),a("4e82")),c=a("1c87"),i=a("7560"),o=a("80d2"),r=a("58df"),l=Object(r["a"])(c["a"],Object(s["a"])("tabsBar"),i["a"]);e["a"]=l.extend().extend().extend({name:"v-tab",props:{ripple:{type:[Boolean,Object],default:!0}},data:function(){return{proxyClass:"v-tab--active"}},computed:{classes:function(){return Object(n["a"])(Object(n["a"])({"v-tab":!0},c["a"].options.computed.classes.call(this)),{},{"v-tab--disabled":this.disabled},this.groupClasses)},value:function(){var t=this.to||this.href;if(null==t)return t;if(this.$router&&this.to===Object(this.to)){var e=this.$router.resolve(this.to,this.$route,this.append);t=e.href}return t.replace("#","")}},methods:{click:function(t){this.disabled?t.preventDefault():(this.href&&this.href.indexOf("#")>-1&&t.preventDefault(),t.detail&&this.$el.blur(),this.$emit("click",t),this.to||this.toggle())},toggle:function(){this.isActive&&(this.tabsBar.mandatory||this.to)||this.$emit("change")}},render:function(t){var e=this,a=this.generateRouteLink(),s=a.tag,c=a.data;return c.attrs=Object(n["a"])(Object(n["a"])({},c.attrs),{},{"aria-selected":String(this.isActive),role:"tab",tabindex:this.disabled?-1:0}),c.on=Object(n["a"])(Object(n["a"])({},c.on),{},{keydown:function(t){t.keyCode===o["w"].enter&&e.click(t),e.$emit("keydown",t)}}),t(s,c,this.$slots.default)}})},"8cc8":function(t,e,a){"use strict";a.r(e);var n=a("b0af"),s=a("71a3"),c=a("fe57"),i=function(){var t=this,e=t._self._c;return e(n["a"],{staticClass:"mt-0 ml-1"},[e(c["a"],{attrs:{color:"#0080FF","align-tabs":"center"},model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[e(s["a"],[t._v("PrÃ©sence")]),e(s["a"],[t._v("Item Two")]),e(s["a"],[t._v("Item Three")])],1),0==t.tab?e("div",{staticClass:"card"},[e("div",{staticClass:"card-header"},[e("div",{staticClass:"row d-flex justify-content-start"},[e("div",{staticClass:"col-xl-3 col-lg-3 col-md-3 col-sm-3 col-xs-3 margin-bottom ml-2"},[e("label",[t._v("Agence : ")]),e("div",{staticClass:"data-picker",staticStyle:{width:"100%"}},[e("ui-select",{attrs:{placeholder:"Choisir une usine",options:t.agenceListe},on:{change:function(e){return t.loadConfig()}},model:{value:t.agenceSelect,callback:function(e){t.agenceSelect=e},expression:"agenceSelect"}})],1)]),e("div",{staticClass:"col-xl-4 col-lg-4 col-md-5 col-sm-6 col-xs-6 mb-1"},[e("label",[t._v(t._s(t.periode)+" : ")]),e("div",{staticClass:"data-picker",staticStyle:{width:"100%"}},[e("el-date-picker",{attrs:{type:"daterange","unlink-panels":"","range-separator":"-",format:"dd/MM/yyyy",clearable:t.clearable,"picker-options":t.pickerOptions},on:{change:function(e){return t.loadFilter()}},model:{value:t.drp,callback:function(e){t.drp=e},expression:"drp"}})],1)])])]),e("div",{staticClass:"card-body"},[t.empty?e("div",[e("el-empty",{attrs:{"image-size":200}})],1):e("div",[e("p",[t._v("Body test card item 01 ")])])])]):t._e(),1==t.tab?e("div",{staticClass:"card"},[e("div",{staticClass:"card-header"},[e("h1",[t._v("Header 02")])]),e("div",{staticClass:"card-body"},[e("p",[t._v("Body test card item 01 ")])])]):t._e(),2==t.tab?e("div",{staticClass:"card"},[e("div",{staticClass:"card-header"},[e("h1",[t._v("Header 03")])]),e("div",{staticClass:"card-body"},[e("p",[t._v("Body test card item 01 ")])])]):t._e()],1)},o=[],r=a("c7eb"),l=a("1da1"),d=(a("d3b7"),a("159b"),a("caad"),a("14d9"),a("3c65"),a("2532"),a("cee4")),u=a("c1df"),f=a.n(u),h=a("323e"),p=a.n(h),b={data:function(){return{tab:null,type:"",agenceListe:[],agenceSelect:[],all_data:[],all_date:[],empty:!1,periode:"Choisir la periode",start:f()().subtract(12,"month").startOf("month").toDate(),end:f()().toDate(),clearable:!0,drp:[f()().subtract(1,"day").startOf("day").toDate(),f()().toDate()],pickerOptions:{shortcuts:[{text:"Mois precedent",onClick:function(t){t.$emit("pick",[f()().subtract(1,"month").startOf("month").toDate(),f()().subtract(1,"month").endOf("month").toDate()])}},{text:"Mois en cours",onClick:function(t){t.$emit("pick",[f()().startOf("month").toDate(),new Date])}},{text:"Semaine precedente",onClick:function(t){t.$emit("pick",[f()().subtract(1,"week").startOf("isoWeek").toDate(),f()().subtract(1,"week").endOf("isoWeek").toDate()])}},{text:"Semaine en cours",onClick:function(t){t.$emit("pick",[f()().startOf("isoWeek").toDate(),new Date])}},{text:"Avant hier",onClick:function(t){t.$emit("pick",[f()().subtract(2,"day").toDate(),f()().subtract(2,"day").toDate()])}},{text:"Hier",onClick:function(t){t.$emit("pick",[f()().subtract(1,"day").toDate(),f()().subtract(1,"day").toDate()])}},{text:"Aujoudhuit",onClick:function(t){t.$emit("pick",[f()().toDate(),new Date])}}],format:"dd MM yyyy",firstDayOfWeek:1,disabledDate:this.disabledDueDate}}},watch:{tab:function(){console.log(this.tab)}},created:function(){this.loadFilter()},methods:{loadFilter:function(){var t=this;return Object(l["a"])(Object(r["a"])().mark((function e(){var a,n,s,c;return Object(r["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return p.a.start(),e.prev=1,{start:f()(new Date(t.drp[0])).startOf("day").format("YYYY-MM-DD HH:mm:ss.SSS"),end:f()(new Date(t.drp[1])).endOf("day").format("YYYY-MM-DD HH:mm:ss.SSS")},e.next=5,d["a"].get("xperf/report/filter");case 5:a=e.sent,n=a.data.data,console.log(n),s=[],c=[],n.forEach((function(t){"DIR"!=t.code&&"EXT"!=t.code&&(c.includes(t.nom)||(c.push(t.nom),s.push({label:t.nom,value:t.code})))})),t.agenceListe=s,c.length>1&&t.agenceListe.unshift({label:"Tous",value:"Tous"}),t.agenceSelect=t.agenceListe[0],t.loadConfig(),e.next=21;break;case 18:e.prev=18,e.t0=e["catch"](1),t.$notify({type:"error",title:"Echec de recuperation"});case 21:p.a.done();case 22:case"end":return e.stop()}}),e,null,[[1,18]])})))()},loadConfig:function(){var t=this;return Object(l["a"])(Object(r["a"])().mark((function e(){var a,n,s,c;return Object(r["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.loading=!0,p.a.start(),a={start:f()(new Date(t.drp[0])).startOf("day").format("YYYY-MM-DD HH:mm:ss.SSS"),end:f()(new Date(t.drp[1])).endOf("day").format("YYYY-MM-DD HH:mm:ss.SSS"),agence:t.agenceSelect["value"]},console.log(a),e.next=6,d["a"].post("/xperf/report/log",a);case 6:n=e.sent,s=n.data.all_data,console.log(s.length),s.length>0?(t.empty=!1,c=[],s.forEach((function(t){c.includes(t.jour)||c.push(t.jour)})),t.all_date=c,t.oderByDate(s)):t.empty=!0,p.a.done();case 11:case"end":return e.stop()}}),e)})))()},oderByDate:function(t){var e=this,a=[];t.forEach((function(t){a.includes(t.auteur)||a.push(t.auteur)}));for(var n=function(){var n=a[s];c=[],t.forEach((function(t){t.auteur==n&&c.push(t)})),console.log("data_user"),console.log(c);for(var i=function(){var t=e.all_date[o];c.forEach((function(e){e.jour==t&&console.log("jours")}))},o=0;o<e.all_date.length;o++)i()},s=0;s<a.length;s++){var c;n()}}}},m=b,v=a("2877"),g=Object(v["a"])(m,i,o,!1,null,null,null);e["default"]=g.exports}}]);
//# sourceMappingURL=chunk-7b017d06.abf1628e.js.map