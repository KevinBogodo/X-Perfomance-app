{"version":3,"sources":["webpack:///./node_modules/core-js/modules/es.array.unshift.js","webpack:///./src/views/dashboard/components/apps/statistiqueComponents/GbAgencePresenceComponent.vue","webpack:///./src/components/ApexChart/BarchartMulti.vue","webpack:///src/components/ApexChart/BarchartMulti.vue","webpack:///./src/components/ApexChart/BarchartMulti.vue?cfe2","webpack:///./src/components/ApexChart/BarchartMulti.vue?528c","webpack:///src/views/dashboard/components/apps/statistiqueComponents/GbAgencePresenceComponent.vue","webpack:///./src/views/dashboard/components/apps/statistiqueComponents/GbAgencePresenceComponent.vue?ca50","webpack:///./src/views/dashboard/components/apps/statistiqueComponents/GbAgencePresenceComponent.vue?6c78"],"names":["$","toObject","lengthOfArrayLike","setArrayLength","deletePropertyOrThrow","doesNotExceedSafeInteger","INCORRECT_RESULT","unshift","properErrorOnNonWritableLength","Object","defineProperty","writable","error","TypeError","FORCED","target","proto","arity","forced","item","O","this","len","argCount","arguments","length","k","to","j","render","_vm","_c","_self","staticClass","_v","attrs","model","value","radio","callback","$$v","expression","staticStyle","clearable","pickerOptions_j","on","$event","loadData","drp_jour","_e","pickerOptions_m","drp_month","_s","titleChoice","agencesOption","agenceSelect","empty","_m","data1","data2","datatable","type","staticRenderFns","options","series","components","props","data","chart","height","plotOptions","bar","horizontal","columnWidth","endingShape","dataLabels","enabled","stroke","show","width","colors","xaxis","categories","yaxis","title","text","fill","opacity","tooltip","y","formatter","watch","mounted","component","Menu","BarchartMulti","TablesDates","users","selected_user","status","statusSelect","periode","start","end","shortcuts","onClick","picker","format","firstDayOfWeek","disabledDate","methods","NProgress","crm","agence","axios","response","res","console","BuildApexChart","all_agences","all_dates","minutes","Array_min","BuildTable","element"],"mappings":"kHACA,IAAIA,EAAI,EAAQ,QACZC,EAAW,EAAQ,QACnBC,EAAoB,EAAQ,QAC5BC,EAAiB,EAAQ,QACzBC,EAAwB,EAAQ,QAChCC,EAA2B,EAAQ,QAGnCC,EAAqC,IAAlB,GAAGC,QAAQ,GAG9BC,EAAiC,WACnC,IAEEC,OAAOC,eAAe,GAAI,SAAU,CAAEC,UAAU,IAASJ,UACzD,MAAOK,GACP,OAAOA,aAAiBC,YAIxBC,EAASR,IAAqBE,IAIlCR,EAAE,CAAEe,OAAQ,QAASC,OAAO,EAAMC,MAAO,EAAGC,OAAQJ,GAAU,CAE5DP,QAAS,SAAiBY,GACxB,IAAIC,EAAInB,EAASoB,MACbC,EAAMpB,EAAkBkB,GACxBG,EAAWC,UAAUC,OACzB,GAAIF,EAAU,CACZlB,EAAyBiB,EAAMC,GAC/B,IAAIG,EAAIJ,EACR,MAAOI,IAAK,CACV,IAAIC,EAAKD,EAAIH,EACTG,KAAKN,EAAGA,EAAEO,GAAMP,EAAEM,GACjBtB,EAAsBgB,EAAGO,GAEhC,IAAK,IAAIC,EAAI,EAAGA,EAAIL,EAAUK,IAC5BR,EAAEQ,GAAKJ,UAAUI,GAEnB,OAAOzB,EAAeiB,EAAGE,EAAMC,O,2CC1CrC,IAAIM,EAAS,WAAkB,IAAIC,EAAIT,KAAKU,EAAGD,EAAIE,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACA,EAAG,MAAM,CAACE,YAAY,OAAO,CAACF,EAAG,MAAM,CAACE,YAAY,8DAA8D,CAACF,EAAG,QAAQ,CAACE,YAAY,QAAQ,CAACH,EAAII,GAAG,2BAA2BH,EAAG,MAAM,CAACA,EAAG,WAAW,CAACI,MAAM,CAAC,MAAQ,QAAQC,MAAM,CAACC,MAAOP,EAAIQ,MAAOC,SAAS,SAAUC,GAAMV,EAAIQ,MAAME,GAAKC,WAAW,UAAU,CAACX,EAAII,GAAG,WAAWH,EAAG,WAAW,CAACI,MAAM,CAAC,MAAQ,QAAQC,MAAM,CAACC,MAAOP,EAAIQ,MAAOC,SAAS,SAAUC,GAAMV,EAAIQ,MAAME,GAAKC,WAAW,UAAU,CAACX,EAAII,GAAG,WAAW,KAAmB,QAAbJ,EAAIQ,MAAiBP,EAAG,MAAM,CAACE,YAAY,qDAAqD,CAACF,EAAG,QAAQ,CAACD,EAAII,GAAG,2BAA2BH,EAAG,MAAM,CAACE,YAAY,cAAcS,YAAY,CAAC,MAAQ,SAAS,CAACX,EAAG,iBAAiB,CAACI,MAAM,CAAC,KAAO,YAAY,gBAAgB,GAAG,kBAAkB,IAAI,OAAS,aAAa,UAAYL,EAAIa,UAAU,iBAAiBb,EAAIc,iBAAiBC,GAAG,CAAC,OAAS,SAASC,GAAQ,OAAOhB,EAAIiB,aAAaX,MAAM,CAACC,MAAOP,EAAIkB,SAAUT,SAAS,SAAUC,GAAMV,EAAIkB,SAASR,GAAKC,WAAW,eAAe,KAAKX,EAAImB,KAAmB,QAAbnB,EAAIQ,MAAiBP,EAAG,MAAM,CAACE,YAAY,qDAAqD,CAACF,EAAG,QAAQ,CAACD,EAAII,GAAG,2BAA2BH,EAAG,MAAM,CAACE,YAAY,cAAcS,YAAY,CAAC,MAAQ,SAAS,CAACX,EAAG,iBAAiB,CAACI,MAAM,CAAC,OAAS,aAAa,KAAO,aAAa,MAAQ,QAAQ,gBAAgB,GAAG,kBAAkB,IAAI,oBAAoB,gBAAgB,kBAAkB,cAAc,iBAAiBL,EAAIoB,iBAAiBL,GAAG,CAAC,OAAS,SAASC,GAAQ,OAAOhB,EAAIiB,aAAaX,MAAM,CAACC,MAAOP,EAAIqB,UAAWZ,SAAS,SAAUC,GAAMV,EAAIqB,UAAUX,GAAKC,WAAW,gBAAgB,KAAKX,EAAImB,KAAKlB,EAAG,MAAM,CAACE,YAAY,8DAA8D,CAACF,EAAG,QAAQ,CAACE,YAAY,QAAQ,CAACH,EAAII,GAAGJ,EAAIsB,GAAGtB,EAAIuB,aAAa,SAAStB,EAAG,MAAM,CAACE,YAAY,cAAcS,YAAY,CAAC,MAAQ,SAAS,CAACX,EAAG,YAAY,CAACI,MAAM,CAAC,YAAcL,EAAIuB,YAAY,QAAUvB,EAAIwB,eAAeT,GAAG,CAAC,OAAS,SAASC,GAAQ,OAAOhB,EAAIiB,aAAaX,MAAM,CAACC,MAAOP,EAAIyB,aAAchB,SAAS,SAAUC,GAAMV,EAAIyB,aAAaf,GAAKC,WAAW,mBAAmB,OAAqB,GAAbX,EAAI0B,MAAYzB,EAAG,MAAM,CAACE,YAAY,OAAO,CAACF,EAAG,cAAcA,EAAG,WAAW,CAACI,MAAM,CAAC,YAAc,qCAAqC,GAAGJ,EAAG,MAAM,CAACE,YAAY,eAAe,CAACH,EAAI2B,GAAG,GAAG1B,EAAG,gBAAgB,CAACI,MAAM,CAAC,MAAQL,EAAI4B,MAAM,MAAQ5B,EAAI6B,SAAS5B,EAAG,cAAcD,EAAI2B,GAAG,GAAG3B,EAAI2B,GAAG,GAAG1B,EAAG,cAAc,CAACI,MAAM,CAAC,UAAYL,EAAI8B,UAAU,KAAO9B,EAAI+B,SAAS,MAE7/EC,EAAkB,CAAC,WAAY,IAAIhC,EAAIT,KAAKU,EAAGD,EAAIE,MAAMD,GAAG,OAAOA,EAAG,KAAK,CAACA,EAAG,IAAI,CAACD,EAAII,GAAG,yCAC7F,WAAY,IAAIJ,EAAIT,KAAKU,EAAGD,EAAIE,MAAMD,GAAG,OAAOA,EAAG,KAAK,CAACA,EAAG,IAAI,CAACD,EAAII,GAAG,yBACxE,WAAY,IAAIJ,EAAIT,KAAKU,EAAGD,EAAIE,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACE,YAAY,UAAUS,YAAY,CAAC,QAAU,OAAO,gBAAgB,SAAS,cAAc,SAAS,YAAY,UAAU,CAACX,EAAG,QAAQ,CAACA,EAAG,KAAK,CAACA,EAAG,KAAK,CAACW,YAAY,CAAC,OAAS,OAAO,aAAa,WAAW,CAACZ,EAAII,GAAG,oBAAoBH,EAAG,KAAK,CAACW,YAAY,CAAC,MAAQ,OAAO,OAAS,OAAO,gBAAgB,MAAM,OAAS,OAAO,mBAAmB,aAAaX,EAAG,KAAK,CAACW,YAAY,CAAC,OAAS,OAAO,aAAa,WAAW,CAACZ,EAAII,GAAG,yBAAyBH,EAAG,KAAK,CAACW,YAAY,CAAC,MAAQ,OAAO,OAAS,OAAO,gBAAgB,MAAM,OAAS,OAAO,mBAAmB,aAAaX,EAAG,KAAK,CAACW,YAAY,CAAC,OAAS,OAAO,aAAa,WAAW,CAACZ,EAAII,GAAG,sBAAsBH,EAAG,KAAK,CAACW,YAAY,CAAC,MAAQ,OAAO,OAAS,OAAO,gBAAgB,MAAM,OAAS,OAAO,mBAAmB,qB,wJCJj0Bb,EAAS,WAAkB,IAAIC,EAAIT,KAAKU,EAAGD,EAAIE,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACE,YAAY,gBAAgB,CAACF,EAAG,YAAY,CAACI,MAAM,CAAC,OAAS,QAAQ,KAAO,MAAM,QAAUL,EAAIiC,QAAQ,OAASjC,EAAIkC,WAAW,IAEzMF,EAAkB,G,iCCOtB,GAEAG,YACA,eAGAC,wBAEAC,gBAEA,OAEAH,UACAD,SACAK,OACAP,WACAQ,YAEAC,aACAC,KACAC,cACAC,kBACAC,wBAGAC,YACAC,YAEAC,QACAC,QACAC,QACAC,wBAEAC,OACAC,eAEAC,OACAC,OACAC,0BAGAC,MACAC,WAEAC,SACAC,GACAC,sBACA,0BAQAC,OACAjC,iBACA,6DACAuB,OACAC,yBAGA,yBAIAU,mBACA,uBACA,6DACAX,OACAC,2BC/EsW,I,YCOlWW,EAAY,eACd,EACA,EACA,GACA,EACA,KACA,KACA,MAIa,EAAAA,E,oBCwEf,GACA5B,YACA6B,kBACAC,gBACAC,oBAGA9B,uCAEAC,gBACA,OACAN,cACAR,+BACAK,SACAC,SACAC,aACAqC,gBACAC,iBACA5D,aACA6D,UACA3C,QACA4C,gBACAC,6BACAC,2DACAC,mBACA5D,aACAK,kFACAG,4FAEAP,iBACA4D,YACAnB,sBACAoB,oBACAC,0HAGA,CACArB,qBACAoB,oBACAC,6DAGA,CACArB,0BACAoB,oBACAC,4HAGA,CACArB,wBACAoB,oBACAC,+DAGA,CACArB,kBACAoB,oBACAC,sFAGA,CACArB,YACAoB,oBACAC,sFAEA,CACArB,kBACAoB,oBACAC,6CAGAC,oBACAC,iBACAC,mCAGA3D,iBACAsD,YACAnB,eACAoB,oBACAC,kFAEA,CACArB,mBACAoB,oBACAC,iFAEA,CACArB,2BACAoB,oBACAC,wFAGAC,oBACAC,iBACAC,qCAIAlB,OACArD,iBACA,iBAEAiB,wBACA,kBAIAuD,SACA/D,oBAAA,8JAUA,OATAgE,YAAA,SAGA,sEAEAC,GACAC,4BACAX,+EACAC,4EACA,SAEAW,0CAAA,OAAAC,SACAC,qBAEAC,eAEA,YACA,UACA,oBACA,iBAEA,+DAGA,WACAxD,aACAuB,kDACA,QAGA2B,WAAA,yDA/BA,IAkCAO,2BAAA,WAEA,cACA,cACA,SACA,KAEA,sBACA,cACA,cAEAnD,uBAEA,iDACA,mBACAoD,cAEA,eACAC,aAIAH,eACAA,eAEAE,uBAEA,SAEAC,uBAEA,QAEArD,uBAEA,UAEA,gDACAsD,gBAKAC,aAGA,MACA,CACA,OACA,QAEAL,eACA,mBAGA,kBAGA,uBAEA,cACA,cACA,KAEAlD,uBACA,8DACA,mBAAAoD,iBAGAF,eACAA,wBAEAE,uBAEA,SAEA,6BAEA,QAEApD,uBAEA,UAEA,kBACAsD,gBAKAC,aAGA,MACA,CACA,OACA,QAGAL,eACA,qBAQAM,uBAEAxD,uBACAyD,kDACAA,mDAGA,oBC5V+Z,ICO3Z,EAAY,eACd,EACA/F,EACAiC,GACA,EACA,KACA,KACA,MAIa,e","file":"js/chunk-47b5d792.245feb84.js","sourcesContent":["'use strict';\nvar $ = require('../internals/export');\nvar toObject = require('../internals/to-object');\nvar lengthOfArrayLike = require('../internals/length-of-array-like');\nvar setArrayLength = require('../internals/array-set-length');\nvar deletePropertyOrThrow = require('../internals/delete-property-or-throw');\nvar doesNotExceedSafeInteger = require('../internals/does-not-exceed-safe-integer');\n\n// IE8-\nvar INCORRECT_RESULT = [].unshift(0) !== 1;\n\n// V8 ~ Chrome < 71 and Safari <= 15.4, FF < 23 throws InternalError\nvar properErrorOnNonWritableLength = function () {\n  try {\n    // eslint-disable-next-line es/no-object-defineproperty -- safe\n    Object.defineProperty([], 'length', { writable: false }).unshift();\n  } catch (error) {\n    return error instanceof TypeError;\n  }\n};\n\nvar FORCED = INCORRECT_RESULT || !properErrorOnNonWritableLength();\n\n// `Array.prototype.unshift` method\n// https://tc39.es/ecma262/#sec-array.prototype.unshift\n$({ target: 'Array', proto: true, arity: 1, forced: FORCED }, {\n  // eslint-disable-next-line no-unused-vars -- required for `.length`\n  unshift: function unshift(item) {\n    var O = toObject(this);\n    var len = lengthOfArrayLike(O);\n    var argCount = arguments.length;\n    if (argCount) {\n      doesNotExceedSafeInteger(len + argCount);\n      var k = len;\n      while (k--) {\n        var to = k + argCount;\n        if (k in O) O[to] = O[k];\n        else deletePropertyOrThrow(O, to);\n      }\n      for (var j = 0; j < argCount; j++) {\n        O[j] = arguments[j];\n      }\n    } return setArrayLength(O, len + argCount);\n  }\n});\n","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-xl-3 col-lg-3 col-md-3 col-sm-3 col-xs-3 margin-bottom\"},[_c('label',{staticClass:\"mb-2\"},[_vm._v(\" Format d'affichage: \")]),_c('div',[_c('el-radio',{attrs:{\"label\":\"jour\"},model:{value:(_vm.radio),callback:function ($$v) {_vm.radio=$$v},expression:\"radio\"}},[_vm._v(\"Jours\")]),_c('el-radio',{attrs:{\"label\":\"mois\"},model:{value:(_vm.radio),callback:function ($$v) {_vm.radio=$$v},expression:\"radio\"}},[_vm._v(\"Mois\")])],1)]),(_vm.radio == 'jour')?_c('div',{staticClass:\"col-xl-4 col-lg-4 col-md-5 col-sm-6 col-xs-6 mb-1\"},[_c('label',[_vm._v(\"Choisir la période : \")]),_c('div',{staticClass:\"data-picker\",staticStyle:{\"width\":\"100%\"}},[_c('el-date-picker',{attrs:{\"type\":\"daterange\",\"unlink-panels\":\"\",\"range-separator\":\"-\",\"format\":\"dd/MM/yyyy\",\"clearable\":_vm.clearable,\"picker-options\":_vm.pickerOptions_j},on:{\"change\":function($event){return _vm.loadData()}},model:{value:(_vm.drp_jour),callback:function ($$v) {_vm.drp_jour=$$v},expression:\"drp_jour\"}})],1)]):_vm._e(),(_vm.radio == 'mois')?_c('div',{staticClass:\"col-xl-4 col-lg-4 col-md-5 col-sm-6 col-xs-6 mb-1\"},[_c('label',[_vm._v(\"Choisir la période : \")]),_c('div',{staticClass:\"data-picker\",staticStyle:{\"width\":\"100%\"}},[_c('el-date-picker',{attrs:{\"format\":\"dd/MM/yyyy\",\"type\":\"monthrange\",\"align\":\"right\",\"unlink-panels\":\"\",\"range-separator\":\"à\",\"start-placeholder\":\"Mois de début\",\"end-placeholder\":\"Mois de fin\",\"picker-options\":_vm.pickerOptions_m},on:{\"change\":function($event){return _vm.loadData()}},model:{value:(_vm.drp_month),callback:function ($$v) {_vm.drp_month=$$v},expression:\"drp_month\"}})],1)]):_vm._e(),_c('div',{staticClass:\"col-xl-3 col-lg-3 col-md-3 col-sm-3 col-xs-3 margin-bottom\"},[_c('label',{staticClass:\"mb-2\"},[_vm._v(_vm._s(_vm.titleChoice)+\" : \")]),_c('div',{staticClass:\"data-picker\",staticStyle:{\"width\":\"100%\"}},[_c('ui-select',{attrs:{\"placeholder\":_vm.titleChoice,\"options\":_vm.agencesOption},on:{\"change\":function($event){return _vm.loadData()}},model:{value:(_vm.agenceSelect),callback:function ($$v) {_vm.agenceSelect=$$v},expression:\"agenceSelect\"}})],1)])]),(_vm.empty == 1)?_c('div',{staticClass:\"row\"},[_c('el-divider'),_c('el-empty',{attrs:{\"description\":\"Pas de données pour la période\"}})],1):_c('div',{staticClass:\"row m-2 p-2\"},[_vm._m(0),_c('BarchartMulti',{attrs:{\"data1\":_vm.data1,\"data2\":_vm.data2}}),_c('el-divider'),_vm._m(1),_vm._m(2),_c('TablesDates',{attrs:{\"datatable\":_vm.datatable,\"type\":_vm.type}})],1)])\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c;return _c('h4',[_c('i',[_vm._v(\" Graphique en minutes du retard \")])])\n},function (){var _vm=this,_c=_vm._self._c;return _c('h4',[_c('i',[_vm._v(\" Tableau global \")])])\n},function (){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"row m-4\",staticStyle:{\"display\":\"flex\",\"align-content\":\"center\",\"align-items\":\"center\",\"max-width\":\"600px\"}},[_c('table',[_c('tr',[_c('th',{staticStyle:{\"border\":\"none\",\"text-align\":\"center\"}},[_vm._v(\"moins de 5 min\")]),_c('th',{staticStyle:{\"width\":\"30px\",\"height\":\"30px\",\"border-radius\":\"50%\",\"border\":\"none\",\"background-color\":\"#6aa84f\"}}),_c('th',{staticStyle:{\"border\":\"none\",\"text-align\":\"center\"}},[_vm._v(\"| Entre 5 et 15 min\")]),_c('th',{staticStyle:{\"width\":\"30px\",\"height\":\"30px\",\"border-radius\":\"50%\",\"border\":\"none\",\"background-color\":\"#f6b26b\"}}),_c('th',{staticStyle:{\"border\":\"none\",\"text-align\":\"center\"}},[_vm._v(\"| Plus de 15 min\")]),_c('th',{staticStyle:{\"width\":\"30px\",\"height\":\"30px\",\"border-radius\":\"50%\",\"border\":\"none\",\"background-color\":\"#e06666\"}})])])])\n}]\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"row mr-5 p-2\"},[_c('apexchart',{attrs:{\"height\":\"350px\",\"type\":\"bar\",\"options\":_vm.options,\"series\":_vm.series}})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div class=\"row mr-5 p-2\">\r\n        <apexchart height =\"350px\" type=\"bar\" :options=\"options\" :series=\"series\"></apexchart>\r\n    </div>\r\n</template>\r\n<script>\r\n\r\n    import VueApexCharts from 'vue-apexcharts';\r\n\r\n    export default {\r\n\r\n        components: {\r\n            'apexchart': VueApexCharts\r\n        },\r\n\r\n        props: ['data1','data2'],\r\n\r\n        data () {\r\n            \r\n            return {\r\n\r\n                series: [ ],\r\n                options: {\r\n                    chart: {\r\n                        type: 'bar',\r\n                        height: 350\r\n                    },\r\n                    plotOptions: {\r\n                        bar: {\r\n                            horizontal: false,\r\n                            columnWidth: '55%',\r\n                            endingShape: 'rounded'\r\n                        },\r\n                    },\r\n                    dataLabels: {\r\n                        enabled: true\r\n                    },\r\n                    stroke: {\r\n                        show: true,\r\n                        width: 2,\r\n                        colors: ['transparent']\r\n                    },\r\n                    xaxis: {\r\n                        categories: [],\r\n                    },\r\n                    yaxis: {\r\n                        title: {\r\n                            text: 'Durée en minutes'\r\n                        }\r\n                    },\r\n                    fill: {\r\n                        opacity: 1\r\n                    },\r\n                    tooltip: {\r\n                        y: {\r\n                            formatter: function (val) {\r\n                            return val + \" minutes\"\r\n                            }\r\n                        }\r\n                    }\r\n                },\r\n            }\r\n        },\r\n\r\n        watch: {\r\n            data1 : function() {\r\n                this.options = {...this.options, ...{\r\n                    xaxis: {\r\n                        categories: this.data1,\r\n                    }\r\n                }}\r\n                this.series = this.data2; \r\n            },\r\n        },\r\n\r\n        mounted() {\r\n            this.series = this.data2;\r\n            this.options = {...this.options, ...{\r\n                    xaxis: {\r\n                        categories: this.data1,\r\n                    }\r\n            }}\r\n        }\r\n    }\r\n</script>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BarchartMulti.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BarchartMulti.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./BarchartMulti.vue?vue&type=template&id=6702f4a1&\"\nimport script from \"./BarchartMulti.vue?vue&type=script&lang=js&\"\nexport * from \"./BarchartMulti.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\r\n    <div>\r\n        <div class=\"row\" >\r\n            <div class=\"col-xl-3 col-lg-3 col-md-3 col-sm-3 col-xs-3 margin-bottom\">\r\n                <label class=\"mb-2\"> Format d'affichage: </label>\r\n                <div>\r\n                    <el-radio v-model=\"radio\" label=\"jour\">Jours</el-radio>\r\n                    <!-- <el-radio v-model=\"radio\" label=\"semaine\">Semaines</el-radio> -->\r\n                    <el-radio v-model=\"radio\" label=\"mois\">Mois</el-radio>\r\n                </div>\r\n            </div>\r\n            <div v-if=\"radio == 'jour'\" class=\"col-xl-4 col-lg-4 col-md-5 col-sm-6 col-xs-6 mb-1\">\r\n                    <label>Choisir la période : </label>\r\n                    <div class=\"data-picker\" style=\"width:100%\">\r\n                        <el-date-picker\r\n                            v-model=\"drp_jour\"\r\n                            type=\"daterange\"\r\n                            unlink-panels\r\n                            range-separator=\"-\"\r\n                            format=\"dd/MM/yyyy\"\r\n                            @change=\"loadData()\"\r\n                            :clearable=\"clearable\"\r\n                            :picker-options=\"pickerOptions_j\">\r\n                        </el-date-picker>\r\n                    </div>\r\n            </div>\r\n            <div v-if=\"radio == 'mois'\" class=\"col-xl-4 col-lg-4 col-md-5 col-sm-6 col-xs-6 mb-1\">\r\n                    <label>Choisir la période : </label>\r\n                    <div class=\"data-picker\" style=\"width:100%\">\r\n                        <el-date-picker\r\n                            v-model=\"drp_month\"\r\n                            format=\"dd/MM/yyyy\"\r\n                            type=\"monthrange\"\r\n                            align=\"right\"\r\n                            unlink-panels\r\n                            @change=\"loadData()\"\r\n                            range-separator=\"à\"\r\n                            start-placeholder=\"Mois de début\"\r\n                            end-placeholder=\"Mois de fin\"\r\n                            :picker-options=\"pickerOptions_m\">\r\n                        </el-date-picker>\r\n                    </div>\r\n            </div>\r\n            <div class=\"col-xl-3 col-lg-3 col-md-3 col-sm-3 col-xs-3 margin-bottom\">\r\n                <label class=\"mb-2\">{{titleChoice}} : </label>\r\n                <div class=\"data-picker\" style=\"width:100%\">\r\n                    <ui-select\r\n                        :placeholder=\"titleChoice\"\r\n                        :options=\"agencesOption\"\r\n                        @change=\"loadData()\"\r\n                        v-model=\"agenceSelect\"\r\n                    ></ui-select>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div class=\"row\" v-if=\"empty == 1\">\r\n            <el-divider></el-divider>\r\n            <el-empty description=\"Pas de données pour la période\"></el-empty>\r\n        </div>\r\n        <div v-else class=\"row m-2 p-2\">\r\n            <!-- <el-divider></el-divider> -->\r\n            <h4><i> Graphique en minutes du retard </i></h4>\r\n            <BarchartMulti v-bind:data1=\"data1\" v-bind:data2=\"data2\"/>\r\n            <el-divider></el-divider>\r\n            <h4><i> Tableau global </i></h4>\r\n            <div class=\"row m-4\" style=\"display: flex; align-content: center; align-items: center; max-width:600px\">\r\n                <table><tr>\r\n                    <th style=\"border:none; text-align: center;\">moins de 5 min</th><th style=\"width: 30px;height: 30px;border-radius: 50%;border: none; background-color: #6aa84f;\"></th>\r\n                    <th style=\"border:none; text-align: center;\">| Entre 5 et 15 min</th><th style=\"width: 30px;height: 30px;border-radius: 50%;border: none; background-color: #f6b26b;\"> </th>\r\n                    <th style=\"border:none; text-align: center;\">| Plus de 15 min</th><th style=\"width: 30px;height: 30px;border-radius: 50%;border: none; background-color: #e06666;\"> </th>\r\n                </tr></table>\r\n            </div>\r\n\r\n            <TablesDates v-bind:datatable=\"datatable\" v-bind:type=\"type\" />\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n\r\n    import Menu from './compos/menu.vue';\r\n    import axios from 'axios';\r\n    import moment from 'moment';\r\n    import NProgress from 'nprogress';\r\n\r\n    import BarchartMulti from '@/components/ApexChart/BarchartMulti.vue';\r\n    import TablesDates from '@/components/Tables/TablesDates.vue';\r\n\r\n\r\n\r\n    export default {\r\n        components: {\r\n            Menu,\r\n            BarchartMulti,\r\n            TablesDates,\r\n        },\r\n\r\n        props: ['agencesOption','agenceSelect'],\r\n\r\n        data () {\r\n            return {\r\n                type : 'agence',\r\n                titleChoice: \"Choisir l'agence\",\r\n                data1 : [],\r\n                data2 : [],\r\n                datatable : [],\r\n                users: ['kevin'],\r\n                selected_user: [],\r\n                radio: 'jour',\r\n                status: '',\r\n                empty: 1,\r\n                statusSelect : [],\r\n                periode: 'Choisir la periode',\r\n                start:  moment().subtract(12, 'month').startOf('month').toDate(),\r\n                end: moment().toDate(),\r\n                clearable: true,\r\n                drp_jour : [moment().subtract(1, 'isoweek').startOf('isoweek').toDate(), moment().toDate()],\r\n                drp_month:[moment().subtract(4, 'month').endOf('month').toDate(), moment().endOf('month').toDate()],\r\n\r\n                pickerOptions_j: {\r\n                    shortcuts: [{\r\n                        text: 'Mois precedent',\r\n                        onClick(picker) {\r\n                            picker.$emit('pick', [moment().subtract(1, 'month').startOf('month').toDate(), moment().subtract(1, 'month').endOf('month').toDate()]);\r\n                        }\r\n                    }, \r\n                    {\r\n                        text: 'Mois en cours',\r\n                        onClick(picker) {\r\n                            picker.$emit('pick', [moment().startOf('month').toDate(), new Date()]);\r\n                        }\r\n                    }, \r\n                    {\r\n                        text: 'Semaine precedente',\r\n                        onClick(picker) {\r\n                            picker.$emit('pick', [moment().subtract(1, 'week').startOf('isoWeek').toDate(), moment().subtract(1, 'week').endOf('isoWeek').toDate()]);\r\n                        }\r\n                    }, \r\n                    {\r\n                        text: 'Semaine en cours',\r\n                        onClick(picker) {\r\n                            picker.$emit('pick', [moment().startOf('isoWeek').toDate(), new Date()]);\r\n                        }\r\n                    }, \r\n                    {\r\n                        text:'Avant hier',\r\n                        onClick(picker) {\r\n                            picker.$emit('pick', [moment().subtract(2, 'day').toDate(), moment().subtract(2, 'day').toDate()]);\r\n                        }\r\n                    }, \r\n                    {\r\n                        text: 'Hier',\r\n                        onClick(picker) {\r\n                            picker.$emit('pick', [moment().subtract(1, 'day').toDate(), moment().subtract(1, 'day').toDate()]);\r\n                        }\r\n                    }, {\r\n                        text: 'Aujoudhuit',\r\n                        onClick(picker) {\r\n                            picker.$emit('pick', [moment().toDate(), new Date()]);\r\n                        }\r\n                    }],\r\n                    format:'dd MM yyyy',\r\n                    firstDayOfWeek: 1,\r\n                    disabledDate: this.disabledDueDate\r\n                },\r\n\r\n                pickerOptions_m: {\r\n                    shortcuts: [{\r\n                        text: 'Ce mois',\r\n                        onClick(picker) {\r\n                        picker.$emit('pick', [moment().startOf('month').toDate(), moment().endOf('month').toDate()]);\r\n                        }\r\n                    }, {\r\n                        text: 'Cette année',\r\n                        onClick(picker) {\r\n                        picker.$emit('pick', [moment().startOf('year').toDate(), moment().endOf('month').toDate()]);\r\n                        }\r\n                    }, {\r\n                        text: 'Les derniers 6 mois',\r\n                        onClick(picker) {\r\n                        picker.$emit('pick', [moment().subtract(5, 'month').startOf('month').toDate(), moment().toDate()]);\r\n                        }\r\n                    }],\r\n                    format:'dd MM yyyy',\r\n                    firstDayOfWeek: 1,\r\n                    disabledDate: this.disabledDueDate\r\n                },\r\n            }\r\n        },\r\n        watch: {\r\n            radio : function() {\r\n                this.loadData();\r\n            },\r\n            agenceSelect : function() {\r\n                this.loadData();\r\n            }\r\n        },\r\n\r\n        methods: {\r\n            async loadData() {\r\n                NProgress.start();\r\n                try {\r\n\r\n                    if (this.radio == 'jour') { this.drp = this.drp_jour } else if (this.radio == 'mois') { this.drp = this.drp_month }\r\n\r\n                    let crm = {\r\n                        agence : this.agenceSelect.value,\r\n                        start: moment(new Date(this.drp[0])).startOf('day').format('YYYY-MM-DD HH:mm:ss.SSS'),\r\n                        end: moment(new Date(this.drp[1])).endOf('day').format('YYYY-MM-DD HH:mm:ss.SSS'),\r\n                    };\r\n\r\n                    const response = await axios.post('xperf/report/GbAgencelog', crm);\r\n                    var res = response.data.data_agence;\r\n                    \r\n                    console.log(res);\r\n\r\n                    if(res.length > 0){ \r\n                        this.empty = 0;\r\n                        this.BuildApexChart(res);\r\n                        this.BuildTable(res);\r\n                    } \r\n                    else {this.empty = 1;}\r\n                } \r\n                catch (error) {\r\n                        this.$notify({\r\n                        type: 'error',\r\n                        title: \"Echec de recuperation des informations \"\r\n                    });\r\n                }\r\n\r\n                NProgress.done();\r\n            },\r\n\r\n            BuildApexChart(data) {\r\n\r\n                this.data1 = [];\r\n                this.data2 = [];\r\n                var all_agences = [];\r\n                var all_dates = [];\r\n\r\n                if(this.radio == 'jour'){\r\n                    this.data1 = [];\r\n                    this.data2 = [];\r\n                    \r\n                    data.forEach(val => {\r\n                        \r\n                        let jour = moment(new Date(val.jour)).format('DD/MM/YYYY');\r\n                        if (!all_agences.includes(val.nom)) {\r\n                            all_agences.push(val.nom);\r\n                        }\r\n                        if (!all_dates.includes(jour)) {\r\n                            all_dates.push(jour);\r\n                        }\r\n                    });\r\n\r\n                    console.log(all_agences);\r\n                    console.log(all_dates);\r\n\r\n                    all_agences.forEach(agence => {\r\n\r\n                        var Array_min = [];\r\n\r\n                        all_dates.forEach(date => {\r\n                            \r\n                            let minutes = 0;\r\n\r\n                            data.forEach(element => {\r\n\r\n                                if (element.nom == agence) {\r\n\r\n                                    if(date == moment(new Date(element.jour)).format('DD/MM/YYYY')){\r\n                                        minutes += element.minute;\r\n                                    }\r\n                                }\r\n                            });\r\n\r\n                            Array_min.push(minutes);\r\n                        });\r\n\r\n                        var serie =\r\n                        {\r\n                            'name': agence,\r\n                            'data': Array_min,\r\n                        };\r\n                        console.log(serie);\r\n                        this.data2.push(serie);\r\n                    });\r\n\r\n                    this.data1 = all_dates;\r\n                }\r\n\r\n                else if(this.radio == 'mois') {\r\n                    \r\n                    this.data1 = [];\r\n                    this.data2 = [];\r\n                    var all_agences = [];\r\n\r\n                    data.forEach(element => {\r\n                        if(!this.data1.includes(element.mois_texte)){this.data1.unshift(element.mois_texte)}\r\n                        if (!all_agences.includes(element.nom)) {all_agences.push(element.nom);}\r\n                    });\r\n\r\n                    console.log(all_agences);\r\n                    console.log(this.data1);\r\n\r\n                    all_agences.forEach(agence => {\r\n\r\n                        var Array_min = [];\r\n\r\n                        this.data1.forEach(mois => {\r\n                            \r\n                            let minutes = 0;\r\n\r\n                            data.forEach(element => {\r\n\r\n                                if (element.nom == agence) {\r\n\r\n                                    if(mois == element.mois_texte){\r\n                                        minutes += element.minute;\r\n                                    }\r\n                                }\r\n                            });\r\n\r\n                            Array_min.push(minutes);\r\n                        });\r\n\r\n                        var serie =\r\n                        {\r\n                            'name': agence,\r\n                            'data': Array_min,\r\n                        };\r\n\r\n                        console.log(serie);\r\n                        this.data2.push(serie);\r\n                    });\r\n\r\n                }\r\n\r\n\r\n            },\r\n\r\n            BuildTable(data) {\r\n                \r\n                data.forEach(element => {\r\n                    element.jour = moment(new Date(element.jour)).format('DD/MM/YYYY');\r\n                    element.date = moment(new Date(element.date)).format('HH:mm:ss');\r\n                });\r\n\r\n                this.datatable = data;\r\n            },\r\n        }\r\n\r\n\r\n    }\r\n\r\n</script>","import mod from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GbAgencePresenceComponent.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GbAgencePresenceComponent.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./GbAgencePresenceComponent.vue?vue&type=template&id=6b5e0ed6&\"\nimport script from \"./GbAgencePresenceComponent.vue?vue&type=script&lang=js&\"\nexport * from \"./GbAgencePresenceComponent.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}