{"version":3,"sources":["webpack:///./src/views/dashboard/components/apps/statistiqueComponents/MainPresenceComponent.vue","webpack:///src/views/dashboard/components/apps/statistiqueComponents/MainPresenceComponent.vue","webpack:///./src/views/dashboard/components/apps/statistiqueComponents/MainPresenceComponent.vue?9638","webpack:///./src/views/dashboard/components/apps/statistiqueComponents/MainPresenceComponent.vue?6e26","webpack:///./src/views/dashboard/components/apps/statistiqueComponents/GbutilisateurPresenceComponent.vue","webpack:///./src/views/dashboard/components/apps/statistiqueComponents/GbutilisateurPresenceComponent.vue?5c5a","webpack:///./src/views/dashboard/components/apps/statistiqueComponents/UtilisateurPresenceComponent.vue","webpack:///./src/components/ApexChart/Barchart.vue","webpack:///src/components/ApexChart/Barchart.vue","webpack:///./src/components/ApexChart/Barchart.vue?c0ee","webpack:///./src/components/ApexChart/Barchart.vue?0d63","webpack:///src/views/dashboard/components/apps/statistiqueComponents/UtilisateurPresenceComponent.vue","webpack:///./src/views/dashboard/components/apps/statistiqueComponents/UtilisateurPresenceComponent.vue?e1f9","webpack:///./src/views/dashboard/components/apps/statistiqueComponents/UtilisateurPresenceComponent.vue?fb09","webpack:///./src/views/dashboard/pages/Statistique.vue","webpack:///src/views/dashboard/pages/Statistique.vue","webpack:///./src/views/dashboard/pages/Statistique.vue?f25e","webpack:///./src/views/dashboard/pages/Statistique.vue?d5d7"],"names":["render","_vm","this","_c","_self","on","handleClick","model","value","activeName","callback","$$v","expression","attrs","usersOption","userSelect","agencesOption","agenceSelect","staticRenderFns","components","UtilisateurPresence","GbAgencePresence","GbutilisateurPresence","data","methods","NProgress","console","loadFilter","axios","response","res_agences","res_users","agences","users","array_agence","array_users","label","type","title","created","component","_v","script","staticClass","radio","staticStyle","clearable","pickerOptions_j","$event","loadData","drp_jour","_e","pickerOptions_m","drp_month","_s","titleChoice","empty","_m","data1","data2","options","series","props","plotOptions","bar","horizontal","borderRadius","chart","height","toolbar","show","tools","download","selection","zoom","zoomin","zoomout","pan","reset","export","csv","filename","columnDelimiter","headerCategory","headerValue","dateFormatter","svg","png","xaxis","categories","yaxis","seriesName","axisTicks","axisBorder","color","text","style","tooltip","enabled","fixed","offsetY","offsetX","legend","horizontalAlign","noData","align","verticalAlign","markers","size","colors","strokeColors","fillOpacity","dataLabels","name","watch","mounted","Menu","Barchart","periode","start","end","drp","shortcuts","onClick","picker","format","firstDayOfWeek","disabledDate","crm","id","res","BuildApexChart","minutes","MainPresence","permissions"],"mappings":"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,OACAC,eAEAC,QAEAC,mBACAC,WACAtB,SAEAuB,YACAvB,QACAwB,iBAEAxD,OACAyD,wBACAC,OACAF,kBAGAG,SACAC,cAIAD,SACAE,OACAD,WACAE,WACAC,aAGAC,QACAC,yBACAF,YAEAG,QACAT,qCACAU,eACAC,wBAEAC,SACAC,OACAC,iBACAC,uBACAC,gBAEA/C,KACAgD,eAIAA,YAEAd,WACAF,OACAa,mBAUAhD,SACAoD,aACA5E,cACAd,YAKA2F,OACAxD,iBACA,6DACA8B,OACAC,yBAGA,iCAIA0B,mBACA,+BACA,6DACA3B,OACAC,2BCrJiW,I,YCO7VjD,EAAY,eACd,EACA,EACA,GACA,EACA,KACA,KACA,MAIa,EAAAA,E,QC2Df,GACArB,YACAiG,kBACAC,YAGAvD,mCAEAvC,gBACA,OACAc,mBACAkB,qCACAG,SACAC,SACAf,aACA0E,6BACAC,2DACAC,mBACA1E,aACAU,QACAiE,OACAvE,kFACAG,4FAEAN,iBACA2E,YACA3B,sBACA4B,oBACAC,0HAGA,CACA7B,qBACA4B,oBACAC,6DAGA,CACA7B,0BACA4B,oBACAC,4HAGA,CACA7B,wBACA4B,oBACAC,+DAGA,CACA7B,kBACA4B,oBACAC,sFAGA,CACA7B,YACA4B,oBACAC,sFAEA,CACA7B,kBACA4B,oBACAC,6CAGAC,oBACAC,iBACAC,mCAGA3E,iBAEAsE,YACA3B,eACA4B,oBACAC,kFAEA,CACA7B,mBACA4B,oBACAC,iFAEA,CACA7B,2BACA4B,oBACAC,wFAGAC,oBACAC,iBACAC,qCAKAb,OACAtE,iBACA,iBAEA7B,sBACA,kBAIAS,SAEAyB,oBAAA,8JAUA,OATAxB,YAAA,SAGA,sEAEAuG,GACAC,sBACAV,+EACAC,4EACA,SAGA5F,sCAAA,OAAAC,SACAqG,mBAEA,YACA,UACA,qBAEA,+DAGA,WACA7F,aACAC,kDACA,QAGAb,WAAA,yDA7BA,IAgCA0G,2BAAA,WAKA,GAHA,cACA,cAEA,mBAEA5G,uBACA,iDACA,gBACA,+BAIA,uBAEA,cACA,cAGAA,uBACA,8DAGA,gCACA,QACAA,uBACA,kBAEA6G,gBAIA,sBAUA7F,sBCnQka,ICO9Z,EAAY,eACd,EACAvC,EACAkB,GACA,EACA,KACA,KACA,MAIa,e,oDClBf,IAAIlB,EAAS,WAAkB,IAAIC,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,UAAU,CAACwC,YAAY,MAAME,YAAY,CAAC,OAAS,QAAQhC,MAAM,CAAC,KAAO,gBAAgB,CAACV,EAAG,cAAc,CAACU,MAAM,CAAC,MAAQ,aAAa,CAACV,EAAG,iBAAiB,GAAGA,EAAG,cAAc,CAACU,MAAM,CAAC,MAAQ,iBAAiB,CAACZ,EAAIwC,GAAG,YAAYtC,EAAG,cAAc,CAACU,MAAM,CAAC,MAAQ,gBAAgB,CAACZ,EAAIwC,GAAG,WAAWtC,EAAG,cAAc,CAACU,MAAM,CAAC,MAAQ,cAAc,CAACZ,EAAIwC,GAAG,WAAW,IAE9avB,EAAkB,G,kCCkBtB,GAEAC,YACAkH,2BAGA9G,gBACA,OACA+G,oDAIAnB,sBChCmX,I,YCO/W3E,EAAY,eACd,EACAxC,EACAkB,GACA,EACA,KACA,KACA,MAIa,aAAAsB,E","file":"js/chunk-610e90de.a883979c.js","sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('el-tabs',{on:{\"tab-click\":_vm.handleClick},model:{value:(_vm.activeName),callback:function ($$v) {_vm.activeName=$$v},expression:\"activeName\"}},[_c('el-tab-pane',{attrs:{\"label\":\"Utilisateur\",\"name\":\"first\"}},[_c('UtilisateurPresence',{attrs:{\"usersOption\":_vm.usersOption,\"userSelect\":_vm.userSelect}})],1),_c('el-tab-pane',{attrs:{\"label\":\"Global Agences\",\"name\":\"second\"}},[_c('GbAgencePresence',{attrs:{\"agencesOption\":_vm.agencesOption,\"agenceSelect\":_vm.agenceSelect}})],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <el-tabs v-model=\"activeName\" @tab-click=\"handleClick\">\r\n    <el-tab-pane label=\"Utilisateur\" name=\"first\">\r\n        <UtilisateurPresence  v-bind:usersOption=\"usersOption\" v-bind:userSelect=\"userSelect\" />\r\n    </el-tab-pane>\r\n    <el-tab-pane label=\"Global Agences\" name=\"second\">\r\n        <GbAgencePresence v-bind:agencesOption=\"agencesOption\" v-bind:agenceSelect=\"agenceSelect\" />\r\n    </el-tab-pane>\r\n    <!-- <el-tab-pane label=\"Global Utilisateurs\" name=\"third\">\r\n        <GbutilisateurPresence/>\r\n    </el-tab-pane> -->\r\n  </el-tabs>\r\n</template>\r\n<script>\r\n\r\n    // Utilities\r\n    import NProgress from 'nprogress';\r\n    import 'nprogress/nprogress.css';\r\n    import axios from 'axios';\r\n\r\n    import UtilisateurPresence from './UtilisateurPresenceComponent.vue';\r\n    import GbAgencePresence from './GbAgencePresenceComponent.vue';\r\n    import GbutilisateurPresence from './GbutilisateurPresenceComponent.vue';\r\n\r\n    export default {\r\n\r\n        components: {\r\n            UtilisateurPresence,\r\n            GbAgencePresence,\r\n            GbutilisateurPresence\r\n        },\r\n\r\n        data() {\r\n        return {\r\n            activeName: 'first',\r\n            agencesOption: [],\r\n            agenceSelect: [],\r\n            usersOption: [],\r\n            userSelect: [],\r\n        };\r\n        },\r\n        methods: {\r\n\r\n            handleClick(tab, event) {\r\n                NProgress.start();\r\n                console.log(tab, event);\r\n                NProgress.done();\r\n            },\r\n\r\n            async loadFilter()\r\n            {\r\n                NProgress.start();\r\n\r\n                try {\r\n                  \r\n                    const response = await axios.get('xperf/report/filter',);\r\n                    var res_agences = response.data.agences;\r\n                    var res_users = response.data.users;\r\n\r\n                    var agences = [];\r\n                    var users = [];\r\n\r\n                    var array_agence = [];\r\n                    var array_users = [];\r\n\r\n\r\n\r\n                    res_agences.forEach(element => {\r\n                    \r\n                        if (!agences.includes(element.code)) {\r\n                            agences.push(element.code);\r\n                            array_agence.push({\r\n                                label: element.nom,\r\n                                value: element.code\r\n                            });\r\n                        }\r\n                    });\r\n\r\n                    res_users.forEach(element => {\r\n                    \r\n                        if (!users.includes(element.id)) {\r\n                            users.push(element.id);\r\n                            array_users.push({\r\n                                label: element.name,\r\n                                value: element.id\r\n                            });\r\n                        }\r\n                    });\r\n\r\n                    if(array_agence.length >1){\r\n                       array_agence.unshift({\r\n                                label: 'Tous',\r\n                                value: 'Tous'\r\n                        }); \r\n                    }\r\n                    this.agencesOption = array_agence;\r\n                    this.agenceSelect = this.agencesOption[0];\r\n\r\n                    this.usersOption = array_users;\r\n                    this.userSelect = this.usersOption[0];\r\n\r\n\r\n                } catch (error) {\r\n                    this.$notify({\r\n                    type: 'error',\r\n                    title: \"Echec de recuperation\"\r\n                });\r\n                }\r\n\r\n                NProgress.done();\r\n\r\n            },\r\n\r\n        },\r\n\r\n        created () {\r\n            this.loadFilter();\r\n        }\r\n    };\r\n</script>","import mod from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MainPresenceComponent.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MainPresenceComponent.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MainPresenceComponent.vue?vue&type=template&id=4492c79b&\"\nimport script from \"./MainPresenceComponent.vue?vue&type=script&lang=js&\"\nexport * from \"./MainPresenceComponent.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('h1',[_vm._v(\"gb presence\")])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { render, staticRenderFns } from \"./GbutilisateurPresenceComponent.vue?vue&type=template&id=cc8dc650&\"\nvar script = {}\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-xl-3 col-lg-3 col-md-3 col-sm-3 col-xs-3 margin-bottom\"},[_c('label',{staticClass:\"mb-2\"},[_vm._v(\" Format d'affichage: \")]),_c('div',[_c('el-radio',{attrs:{\"label\":\"jour\"},model:{value:(_vm.radio),callback:function ($$v) {_vm.radio=$$v},expression:\"radio\"}},[_vm._v(\"Jours\")]),_c('el-radio',{attrs:{\"label\":\"mois\"},model:{value:(_vm.radio),callback:function ($$v) {_vm.radio=$$v},expression:\"radio\"}},[_vm._v(\"Mois\")])],1)]),(_vm.radio == 'jour')?_c('div',{staticClass:\"col-xl-4 col-lg-4 col-md-5 col-sm-6 col-xs-6 mb-1\"},[_c('label',[_vm._v(\"Choisir la période : \")]),_c('div',{staticClass:\"data-picker\",staticStyle:{\"width\":\"100%\"}},[_c('el-date-picker',{attrs:{\"type\":\"daterange\",\"unlink-panels\":\"\",\"range-separator\":\"-\",\"format\":\"dd/MM/yyyy\",\"clearable\":_vm.clearable,\"picker-options\":_vm.pickerOptions_j},on:{\"change\":function($event){return _vm.loadData()}},model:{value:(_vm.drp_jour),callback:function ($$v) {_vm.drp_jour=$$v},expression:\"drp_jour\"}})],1)]):_vm._e(),(_vm.radio == 'mois')?_c('div',{staticClass:\"col-xl-4 col-lg-4 col-md-5 col-sm-6 col-xs-6 mb-1\"},[_c('label',[_vm._v(\"Choisir la période : \")]),_c('div',{staticClass:\"data-picker\",staticStyle:{\"width\":\"100%\"}},[_c('el-date-picker',{attrs:{\"format\":\"dd/MM/yyyy\",\"type\":\"monthrange\",\"align\":\"right\",\"unlink-panels\":\"\",\"range-separator\":\"à\",\"start-placeholder\":\"Mois de début\",\"end-placeholder\":\"Mois de fin\",\"picker-options\":_vm.pickerOptions_m},on:{\"change\":function($event){return _vm.loadData()}},model:{value:(_vm.drp_month),callback:function ($$v) {_vm.drp_month=$$v},expression:\"drp_month\"}})],1)]):_vm._e(),_c('div',{staticClass:\"col-xl-3 col-lg-3 col-md-3 col-sm-3 col-xs-3 margin-bottom\"},[_c('label',{staticClass:\"mb-2\"},[_vm._v(_vm._s(_vm.titleChoice)+\" : \")]),_c('div',{staticClass:\"data-picker\",staticStyle:{\"width\":\"100%\"}},[_c('ui-select',{attrs:{\"placeholder\":_vm.titleChoice,\"options\":_vm.usersOption},on:{\"change\":function($event){return _vm.loadData()}},model:{value:(_vm.userSelect),callback:function ($$v) {_vm.userSelect=$$v},expression:\"userSelect\"}})],1)])]),(_vm.empty == 1)?_c('div',{staticClass:\"row\"},[_c('el-divider'),_c('el-empty',{attrs:{\"description\":\"Pas de données pour la période\"}})],1):_c('div',{staticClass:\"row m-5 p-2\"},[_vm._m(0),_c('Barchart',{attrs:{\"data1\":_vm.data1,\"data2\":_vm.data2}})],1)])\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c;return _c('h2',[_c('i',[_vm._v(\" Graphique en minutes du retard \")])])\n}]\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"row mr-5 p-2\"},[_c('apexchart',{attrs:{\"height\":\"350px\",\"type\":\"bar\",\"options\":_vm.options,\"series\":_vm.series}})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div class=\"row mr-5 p-2\">\r\n        <apexchart height =\"350px\" type=\"bar\" :options=\"options\" :series=\"series\"></apexchart>\r\n    </div>\r\n</template>\r\n<script>\r\n\r\n    import VueApexCharts from 'vue-apexcharts';\r\n\r\n    export default {\r\n\r\n        components: {\r\n            'apexchart': VueApexCharts\r\n        },\r\n\r\n        props: ['data1','data2'],\r\n\r\n        data () {\r\n            \r\n            return {\r\n\r\n                options: {\r\n                        plotOptions: {\r\n                            bar: {\r\n                                horizontal: false,\r\n                                borderRadius: 5\r\n        \r\n                            },\r\n                        },\r\n                        chart: {\r\n                            height: 400,\r\n                            toolbar: {\r\n                                show: true,\r\n                                tools: {\r\n                                    download: true,\r\n                                    selection: false,\r\n                                    zoom: false,\r\n                                    zoomin: false,\r\n                                    zoomout: false,\r\n                                    pan: false,\r\n                                    reset: false\r\n                                },\r\n                                export: {\r\n                                    csv: {\r\n                                        filename: \"Analyse_Taux_de_retard_\"+new Date().toDateString(),\r\n                                        columnDelimiter: ',',\r\n                                        headerCategory: 'category',\r\n                                        headerValue: 'value',\r\n                                        dateFormatter(timestamp) {\r\n                                            return new Date(timestamp).toDateString()\r\n                                        }\r\n                                    },\r\n                                    svg: {\r\n                                        filename: \"Analyse_Taux_de_retard_\"+new Date().toDateString(),\r\n                                    },\r\n                                    png: {\r\n                                        filename: \"Analyse_Taux_de_retard_\"+new Date().toDateString(),\r\n                                    }\r\n                                },\r\n                            }\r\n                        },\r\n                        xaxis: {\r\n                            categories: [],\r\n                        },\r\n                        yaxis: [{\r\n\r\n                            seriesName: 'Durée',\r\n                            axisTicks: {\r\n                                show: true,\r\n                            },\r\n                            axisBorder: {\r\n                                show: true,\r\n                                color: '#9E9E9E'\r\n                            },\r\n                            title: {\r\n                                text: \"Durée en minutes\",\r\n                                style: {\r\n                                    color: '#9E9E9E',\r\n                                }\r\n                            },\r\n                            tooltip: {\r\n                                enabled: true\r\n                            }\r\n                        },\r\n                        ],\r\n                        tooltip: {\r\n                            fixed: {\r\n                                enabled: true,\r\n                                offsetY: 30,\r\n                                offsetX: 60\r\n                            },\r\n                        },\r\n                        legend: {\r\n                            horizontalAlign: 'center',\r\n                            offsetX: 40\r\n                        },\r\n                        noData: {\r\n                            text: \"Veuillez vérifier les données\",\r\n                            align: \"center\",\r\n                            verticalAlign: \"middle\",\r\n                        },\r\n                        markers: {\r\n                            size: 5,\r\n                            colors: '#9E9E9E',\r\n                            strokeColors: '#feb830',\r\n                            fillOpacity: 0.6,\r\n                        },\r\n                        bar: {\r\n                            dataLabels: {\r\n                            // position: 'top'\r\n                            }\r\n                        },\r\n                        dataLabels: {\r\n                            // align: 'top',\r\n                            enabled: true,\r\n                            style: {\r\n                                colors: ['#333']\r\n                            },\r\n                        },\r\n                        // datalabels: {\r\n                        //     anchor: 'end',\r\n                        //     align: 'top',\r\n                        //     color: '#000',\r\n                        // },\r\n                        \r\n                },\r\n                series: [{\r\n                    name: 'Durée',\r\n                    type: 'column',\r\n                    data: []\r\n                }]\r\n            }\r\n        },\r\n\r\n        watch: {\r\n            data1 : function() {\r\n                this.options = {...this.options, ...{\r\n                    xaxis: {\r\n                        categories: this.data1,\r\n                    }\r\n                }}\r\n                this.series[0].data = this.data2; \r\n            },\r\n        },\r\n\r\n        mounted() {\r\n            this.series[0].data = this.data2;\r\n            this.options = {...this.options, ...{\r\n                    xaxis: {\r\n                        categories: this.data1,\r\n                    }\r\n            }}\r\n        }\r\n    }\r\n</script>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Barchart.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Barchart.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Barchart.vue?vue&type=template&id=7cef5bcc&\"\nimport script from \"./Barchart.vue?vue&type=script&lang=js&\"\nexport * from \"./Barchart.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\r\n    <div>\r\n        <div class=\"row\" >\r\n            <div class=\"col-xl-3 col-lg-3 col-md-3 col-sm-3 col-xs-3 margin-bottom\">\r\n                <label class=\"mb-2\"> Format d'affichage: </label>\r\n                <div>\r\n                    <el-radio v-model=\"radio\" label=\"jour\">Jours</el-radio>\r\n                    <!-- <el-radio v-model=\"radio\" label=\"semaine\">Semaines</el-radio> -->\r\n                    <el-radio v-model=\"radio\" label=\"mois\">Mois</el-radio>\r\n                </div>\r\n            </div>\r\n            <div v-if=\"radio == 'jour'\" class=\"col-xl-4 col-lg-4 col-md-5 col-sm-6 col-xs-6 mb-1\">\r\n                    <label>Choisir la période : </label>\r\n                    <div class=\"data-picker\" style=\"width:100%\">\r\n                        <el-date-picker\r\n                            v-model=\"drp_jour\"\r\n                            type=\"daterange\"\r\n                            unlink-panels\r\n                            range-separator=\"-\"\r\n                            format=\"dd/MM/yyyy\"\r\n                            @change=\"loadData()\"\r\n                            :clearable=\"clearable\"\r\n                            :picker-options=\"pickerOptions_j\">\r\n                        </el-date-picker>\r\n                    </div>\r\n            </div>\r\n            <div v-if=\"radio == 'mois'\" class=\"col-xl-4 col-lg-4 col-md-5 col-sm-6 col-xs-6 mb-1\">\r\n                    <label>Choisir la période : </label>\r\n                    <div class=\"data-picker\" style=\"width:100%\">\r\n                        <el-date-picker\r\n                            v-model=\"drp_month\"\r\n                            format=\"dd/MM/yyyy\"\r\n                            type=\"monthrange\"\r\n                            align=\"right\"\r\n                            unlink-panels\r\n                            @change=\"loadData()\"\r\n                            range-separator=\"à\"\r\n                            start-placeholder=\"Mois de début\"\r\n                            end-placeholder=\"Mois de fin\"\r\n                            :picker-options=\"pickerOptions_m\">\r\n                        </el-date-picker>\r\n                    </div>\r\n            </div>\r\n            <div class=\"col-xl-3 col-lg-3 col-md-3 col-sm-3 col-xs-3 margin-bottom\">\r\n                <label class=\"mb-2\">{{titleChoice}} : </label>\r\n                <div class=\"data-picker\" style=\"width:100%\">\r\n                    <ui-select\r\n                        :placeholder=\"titleChoice\"\r\n                        :options=\"usersOption\"\r\n                        v-model=\"userSelect\"\r\n                        @change=\"loadData()\"\r\n\r\n                    ></ui-select>\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n        <div class=\"row\" v-if=\"empty == 1\">\r\n            <el-divider></el-divider>\r\n            <el-empty description=\"Pas de données pour la période\"></el-empty>\r\n        </div>\r\n        <div v-else class=\"row m-5 p-2\">\r\n            <!-- <el-divider></el-divider> -->\r\n            <h2><i> Graphique en minutes du retard </i></h2>\r\n            <Barchart v-bind:data1=\"data1\" v-bind:data2=\"data2\"/>\r\n        </div>\r\n    </div>\r\n</template>\r\n<script>\r\n\r\n    import Menu from './compos/menu.vue';\r\n    import axios from 'axios';\r\n    import moment from 'moment';\r\n    import NProgress from 'nprogress';\r\n    import Barchart from '@/components/ApexChart/Barchart.vue'\r\n\r\n\r\n    export default {\r\n        components: {\r\n            Menu,\r\n            Barchart,\r\n        },\r\n\r\n        props: ['usersOption','userSelect'],\r\n\r\n        data () {\r\n            return {\r\n                type : 'utilisateur',\r\n                titleChoice: 'Choisir un utilisateur',\r\n                data1 : [],\r\n                data2 : [],\r\n                radio: 'jour',\r\n                periode: 'Choisir la periode',\r\n                start:  moment().subtract(12, 'month').startOf('month').toDate(),\r\n                end: moment().toDate(),\r\n                clearable: false,\r\n                empty: 1,\r\n                drp : [],\r\n                drp_jour : [moment().subtract(1, 'isoweek').startOf('isoweek').toDate(), moment().toDate()],\r\n                drp_month:[moment().subtract(4, 'month').endOf('month').toDate(), moment().endOf('month').toDate()],\r\n\r\n                pickerOptions_j: {\r\n                    shortcuts: [{\r\n                        text: 'Mois precedent',\r\n                        onClick(picker) {\r\n                            picker.$emit('pick', [moment().subtract(1, 'month').startOf('month').toDate(), moment().subtract(1, 'month').endOf('month').toDate()]);\r\n                        }\r\n                    }, \r\n                    {\r\n                        text: 'Mois en cours',\r\n                        onClick(picker) {\r\n                            picker.$emit('pick', [moment().startOf('month').toDate(), new Date()]);\r\n                        }\r\n                    }, \r\n                    {\r\n                        text: 'Semaine precedente',\r\n                        onClick(picker) {\r\n                            picker.$emit('pick', [moment().subtract(1, 'week').startOf('isoWeek').toDate(), moment().subtract(1, 'week').endOf('isoWeek').toDate()]);\r\n                        }\r\n                    }, \r\n                    {\r\n                        text: 'Semaine en cours',\r\n                        onClick(picker) {\r\n                            picker.$emit('pick', [moment().startOf('isoWeek').toDate(), new Date()]);\r\n                        }\r\n                    }, \r\n                    {\r\n                        text:'Avant hier',\r\n                        onClick(picker) {\r\n                            picker.$emit('pick', [moment().subtract(2, 'day').toDate(), moment().subtract(2, 'day').toDate()]);\r\n                        }\r\n                    }, \r\n                    {\r\n                        text: 'Hier',\r\n                        onClick(picker) {\r\n                            picker.$emit('pick', [moment().subtract(1, 'day').toDate(), moment().subtract(1, 'day').toDate()]);\r\n                        }\r\n                    }, {\r\n                        text: 'Aujoudhuit',\r\n                        onClick(picker) {\r\n                            picker.$emit('pick', [moment().toDate(), new Date()]);\r\n                        }\r\n                    }],\r\n                    format:'dd MM yyyy',\r\n                    firstDayOfWeek: 1,\r\n                    disabledDate: this.disabledDueDate\r\n                },\r\n\r\n                pickerOptions_m: {\r\n\r\n                    shortcuts: [{\r\n                        text: 'Ce mois',\r\n                        onClick(picker) {\r\n                        picker.$emit('pick', [moment().startOf('month').toDate(), moment().endOf('month').toDate()]);\r\n                        }\r\n                    }, {\r\n                        text: 'Cette année',\r\n                        onClick(picker) {\r\n                        picker.$emit('pick', [moment().startOf('year').toDate(), moment().endOf('month').toDate()]);\r\n                        }\r\n                    }, {\r\n                        text: 'Les derniers 6 mois',\r\n                        onClick(picker) {\r\n                        picker.$emit('pick', [moment().subtract(5, 'month').startOf('month').toDate(), moment().toDate()]);\r\n                        }\r\n                    }],\r\n                    format:'dd MM yyyy',\r\n                    firstDayOfWeek: 1,\r\n                    disabledDate: this.disabledDueDate\r\n                },\r\n            }\r\n        },\r\n\r\n        watch: {\r\n            radio : function() {\r\n                this.loadData();\r\n            },\r\n            userSelect : function() {\r\n                this.loadData();\r\n            }\r\n        },\r\n\r\n        methods: {\r\n\r\n            async loadData() {\r\n                NProgress.start();\r\n                try {\r\n\r\n                    if (this.radio == 'jour') { this.drp = this.drp_jour } else if (this.radio == 'mois') { this.drp = this.drp_month }\r\n\r\n                    let crm = {\r\n                        id : this.userSelect.value,\r\n                        start: moment(new Date(this.drp[0])).startOf('day').format('YYYY-MM-DD HH:mm:ss.SSS'),\r\n                        end: moment(new Date(this.drp[1])).endOf('day').format('YYYY-MM-DD HH:mm:ss.SSS'),\r\n                    };\r\n\r\n\r\n                    const response = await axios.post('xperf/report/userlog', crm);\r\n                    var res = response.data.data_user;\r\n\r\n                    if(res.length > 0){ \r\n                        this.empty = 0;\r\n                        this.BuildApexChart(res);\r\n                    } \r\n                    else {this.empty = 1;}\r\n                } \r\n                catch (error) {\r\n                        this.$notify({\r\n                        type: 'error',\r\n                        title: \"Echec de recuperation des informations \"\r\n                    });\r\n                }\r\n\r\n                NProgress.done();\r\n            },\r\n\r\n            BuildApexChart(data) {\r\n\r\n                this.data1 = [];\r\n                this.data2 = [];\r\n\r\n                if(this.radio == 'jour'){\r\n\r\n                    data.forEach(element => {\r\n                        let jour = moment(new Date(element.jour)).format('DD/MM/YYYY');\r\n                        this.data1.push(jour);\r\n                        this.data2.push(element.minute);\r\n                    });\r\n                }\r\n\r\n                else if(this.radio == 'mois') {\r\n                    \r\n                    this.data1 = [];\r\n                    this.data2 = [];\r\n                    let array_mois = [];\r\n\r\n                    data.forEach(element => {\r\n                        if(!this.data1.includes(element.mois_texte)){this.data1.push(element.mois_texte)}\r\n                    });\r\n                    \r\n                    this.data1.forEach(mois => {\r\n                        let minutes = 0;\r\n                        data.forEach(element => { \r\n                            if(element.mois_texte == mois)\r\n                            {\r\n                                minutes += element.minute\r\n                            }\r\n                        });\r\n\r\n                        this.data2.push(minutes);\r\n\r\n\r\n                    });\r\n                }\r\n\r\n\r\n            },\r\n        },\r\n\r\n        created() {\r\n        },\r\n\r\n\r\n    }\r\n\r\n</script>","import mod from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UtilisateurPresenceComponent.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UtilisateurPresenceComponent.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./UtilisateurPresenceComponent.vue?vue&type=template&id=fba8cd68&\"\nimport script from \"./UtilisateurPresenceComponent.vue?vue&type=script&lang=js&\"\nexport * from \"./UtilisateurPresenceComponent.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('el-tabs',{staticClass:\"m-2\",staticStyle:{\"height\":\"85vh\"},attrs:{\"type\":\"border-card\"}},[_c('el-tab-pane',{attrs:{\"label\":\"Présence\"}},[_c('MainPresence')],1),_c('el-tab-pane',{attrs:{\"label\":\"Réalisations\"}},[_vm._v(\"Config\")]),_c('el-tab-pane',{attrs:{\"label\":\"Inventaires\"}},[_vm._v(\"Tâche\")]),_c('el-tab-pane',{attrs:{\"label\":\"Incidents\"}},[_vm._v(\"Rôle\")])],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <el-tabs type=\"border-card\" class=\"m-2\" style=\"height:85vh;\">\r\n        <el-tab-pane label=\"Présence\">\r\n            <MainPresence />\r\n        </el-tab-pane>\r\n        <el-tab-pane label=\"Réalisations\">Config</el-tab-pane>\r\n        <el-tab-pane label=\"Inventaires\">Tâche</el-tab-pane>\r\n        <el-tab-pane label=\"Incidents\">Rôle</el-tab-pane>\r\n    </el-tabs>\r\n</template>\r\n<script>\r\n\r\n    // Utilities\r\n    import NProgress from 'nprogress';\r\n    import 'nprogress/nprogress.css';\r\n    import axios from 'axios';\r\n    import MainPresence from '../components/apps/statistiqueComponents/MainPresenceComponent.vue';\r\n\r\n\r\n\r\n    export default {\r\n        \r\n        components: {\r\n            MainPresence\r\n        },\r\n\r\n        data() {\r\n            return {\r\n                permissions : sessionStorage.getItem('permissions'),\r\n            }\r\n        },\r\n\r\n        mounted () {\r\n            // console.log(this.permissions['DIR']);\r\n        }\r\n    }\r\n</script>","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Statistique.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Statistique.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Statistique.vue?vue&type=template&id=1be21030&\"\nimport script from \"./Statistique.vue?vue&type=script&lang=js&\"\nexport * from \"./Statistique.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}